{{define "brew_list_content"}}
{{if not .Brews}}
<div class="bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl p-8 text-center border border-brown-300">
    <p class="text-brown-800 text-lg mb-4 font-medium">No brews yet! Start tracking your coffee journey.</p>
    <a href="/brews/new"
        class="inline-block bg-gradient-to-r from-brown-700 to-brown-800 text-white py-3 px-6 rounded-lg hover:from-brown-800 hover:to-brown-900 transition-all shadow-lg hover:shadow-xl font-medium">
        Add Your First Brew
    </a>
</div>
{{else}}
<div class="overflow-x-auto bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl border border-brown-300">
    <table class="min-w-full divide-y divide-brown-300">
        <thead class="bg-brown-200/80">
            <tr>
                <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">Date</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">Bean</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">Brewer</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">Variables</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">Notes</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">Rating</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">Actions</th>
            </tr>
        </thead>
        <tbody class="bg-brown-50/60 divide-y divide-brown-200">
            {{range .Brews}}
            <tr class="hover:bg-brown-100/60 transition-colors">
                <!-- Date -->
                <td class="px-4 py-4 whitespace-nowrap text-sm text-brown-900 font-medium align-top">
                    <div>{{.CreatedAt.Format "Jan 2"}}</div>
                    <div class="text-xs text-brown-600">{{.CreatedAt.Format "2006"}}</div>
                </td>
                
                <!-- Bean (with all details) -->
                <td class="px-4 py-4 text-sm text-brown-900 align-top">
                    {{if .Bean}}
                    <div class="font-bold text-brown-900">
                        {{if .Bean.Name}}{{.Bean.Name}}{{else}}{{.Bean.Origin}}{{end}}
                    </div>
                    {{if and .Bean.Roaster .Bean.Roaster.Name}}
                    <div class="text-xs text-brown-700 mt-0.5">
                        <span class="font-medium">{{.Bean.Roaster.Name}}</span>
                    </div>
                    {{end}}
                    <div class="text-xs text-brown-600 mt-0.5 space-y-0.5">
                        {{if .Bean.Origin}}<div>üìç {{.Bean.Origin}}</div>{{end}}
                        {{if .Bean.RoastLevel}}<div>üî• {{.Bean.RoastLevel}}</div>{{end}}
                        {{if hasValue .CoffeeAmount}}<div>‚öñÔ∏è {{.CoffeeAmount}}g</div>{{end}}
                    </div>
                    {{else}}
                    <span class="text-brown-400">-</span>
                    {{end}}
                </td>
                
                <!-- Brewer -->
                <td class="px-4 py-4 text-sm text-brown-900 align-top">
                    {{if .BrewerObj}}
                    <div class="font-medium text-brown-900">{{.BrewerObj.Name}}</div>
                    {{else if .Method}}
                    <div class="font-medium text-brown-900">{{.Method}}</div>
                    {{else}}
                    <span class="text-brown-400">-</span>
                    {{end}}
                </td>
                
                <!-- Variables (grouped) -->
                <td class="px-4 py-4 text-xs text-brown-700 align-top">
                    <div class="space-y-1">
                        {{if .GrinderObj}}
                        <div><span class="text-brown-600">Grinder:</span> {{.GrinderObj.Name}}{{if .GrindSize}} ({{.GrindSize}}){{end}}</div>
                        {{else if .GrindSize}}
                        <div><span class="text-brown-600">Grind:</span> {{.GrindSize}}</div>
                        {{end}}
                        
                        {{if hasTemp .Temperature}}
                        <div><span class="text-brown-600">Temp:</span> {{formatTemp .Temperature}}</div>
                        {{end}}
                        
                        {{if .Pours}}
                        <div><span class="text-brown-600">Pours:</span></div>
                        {{range .Pours}}
                        <div class="pl-2 text-brown-600">‚Ä¢ {{.WaterAmount}}g @ {{formatTime .TimeSeconds}}</div>
                        {{end}}
                        {{else if hasValue .WaterAmount}}
                        <div><span class="text-brown-600">Water:</span> {{.WaterAmount}}g</div>
                        {{end}}
                        
                        {{if hasValue .TimeSeconds}}
                        <div><span class="text-brown-600">Time:</span> {{formatTime .TimeSeconds}}</div>
                        {{end}}
                    </div>
                </td>
                
                <!-- Tasting Notes -->
                <td class="px-4 py-4 text-xs text-brown-800 align-top max-w-xs">
                    {{if .TastingNotes}}
                    <div class="italic line-clamp-3">{{.TastingNotes}}</div>
                    {{else}}
                    <span class="text-brown-400">-</span>
                    {{end}}
                </td>
                
                <!-- Rating -->
                <td class="px-4 py-4 whitespace-nowrap text-sm text-brown-900 align-top">
                    {{if hasValue .Rating}}
                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-900">
                        ‚≠ê {{formatRating .Rating}}
                    </span>
                    {{else}}
                    <span class="text-brown-400">-</span>
                    {{end}}
                </td>
                
                <!-- Actions -->
                <td class="px-4 py-4 whitespace-nowrap text-sm font-medium space-x-2 align-top">
                    <a href="/brews/{{.RKey}}"
                        class="text-brown-700 hover:text-brown-900 font-medium">View</a>
                    <button hx-delete="/brews/{{.RKey}}"
                        hx-confirm="Are you sure you want to delete this brew?" hx-target="closest tr"
                        hx-swap="outerHTML swap:1s" class="text-brown-600 hover:text-brown-800 font-medium">
                        Delete
                    </button>
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
{{end}}
{{end}}
